# 文件系统
一般分为下面三种：  
1. 基于磁盘的文件系统
2. 虚拟文件系统： 在内核中生成，是一种使用户应用程序与用户通信的方法。例如  proc文件系统
3. 网络文件系统

# VFS
提供一种结构模型，包含了一个强大文件系统所应具有的所有组件。但该模型只存在于虚拟中，必须使用各种对象和函数指针与每种文件系统适配。

## inode
iNode的成员可能分为下面两类
1. 描述文件状态的元数据（访问权限或上次修改的时间）
2. 保存实际文件内容的数据段（或指向数据的指针）

系统中所有的inode都有一个特定的编号。

## 链接
符号链接 与 硬链接
1. 符号链接：
    1. 可以认为是一个目录项，其中除了指向文件名的指针，并不保存其他数据。
    2. 每个符号链接都使用一个独立的inode
2. 硬链接：  
    1. 硬链接创建时，和原始文件使用相同的inode编号。
    2. inode中的引用计数会删除

## 标准函数
### 通用读取例程
1. generic_file_read来读取数据。```同步读```。通常，实际的读取操作委托给一个```异步```例程，然后等待该例程结束。
2. 如果设置的直接读取标志，则不使用page cache
3. 否则调用do_generic_file_read --》 do_generic_mapping_read,该函数将对文件的读取操作转换为对映射的读操作。

## inode
inode中块号的取舍：
1. 在inode中，仅需要耗费少量字节存储块号，刚好用来表示平均意义上长度较小的文件；对较大文件，指向各个数据块的指针（块号）是简介存储的。
2. 


