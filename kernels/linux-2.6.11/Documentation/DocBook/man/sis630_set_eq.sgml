<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN">

<!-- BEGINFRONTTAG: The following is front matter for the parent book -->
<!-- <bookinfo> -->
<!--  -->
<!-- <title>SiS 900/7016 Fast Ethernet Device Driver</Title> -->
<!--  -->
<!-- <authorgroup> -->
<!-- <author> -->
<!-- <FirstName>Ollie</FirstName> -->
<!-- <surname>Lho</surname> -->
<!-- </author> -->
<!--  -->
<!-- <author> -->
<!-- <FirstName>Lei Chun</FirstName> -->
<!-- <surname>Chang</surname> -->
<!-- </author> -->
<!-- </authorgroup> -->
<!--  -->
<!-- <edition>Document Revision: 0.3 for SiS900 driver v1.06 & v1.07</edition> -->
<!-- <PubDate>November 16, 2000</PubDate> -->
<!--  -->
<!-- <copyright> -->
<!--  <year>1999</year> -->
<!--  <holder>Silicon Integrated System Corp.</holder> -->
<!-- </copyright> -->
<!--  -->
<!-- <legalnotice> -->
<!--  <para> -->
<!-- 	This program is free software; you can redistribute it and/or modify -->
<!-- 	it under the terms of the GNU General Public License as published by -->
<!-- 	the Free Software Foundation; either version 2 of the License, or -->
<!-- 	(at your option) any later version. -->
<!--  </para> -->
<!--  -->
<!--  <para> -->
<!-- 	This program is distributed in the hope that it will be useful, -->
<!-- 	but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- 	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the -->
<!-- 	GNU General Public License for more details. -->
<!--  </para> -->
<!--  -->
<!--  <para> -->
<!-- 	You should have received a copy of the GNU General Public License -->
<!-- 	along with this program; if not, write to the Free Software -->
<!-- 	Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA -->
<!--  </para> -->
<!-- </legalnotice> -->
<!--  -->
<!-- <Abstract> -->
<!-- <Para> -->
<!-- This document gives some information on installation and usage of SiS 900/7016 -->
<!-- device driver under Linux. -->
<!-- </Para> -->
<!-- </Abstract> -->
<!--  -->
<!-- </bookinfo> -->

<!-- ENDFRONTTAG: End front matter -->

<refentry>
<refmeta>

<refentrytitle><phrase id="API-sis630-set-eq">sis630_set_eq</phrase></refentrytitle>
<manvolnum>9</manvolnum>
</refmeta>
<refnamediv>
 <refname>sis630_set_eq</refname>
 <refpurpose>
      set phy equalizer value for 630 LAN
 </refpurpose>
</refnamediv>
<refsynopsisdiv>
  <funcsynopsis><funcprototype>
   <funcdef>void <function>sis630_set_eq </function></funcdef>
   <paramdef>struct net_device * <parameter>net_dev</parameter></paramdef>
   <paramdef>u8 <parameter>revision</parameter></paramdef>
  </funcprototype></funcsynopsis>
</refsynopsisdiv>
<refsect1>
 <title>Arguments</title>
 <variablelist>
  <varlistentry>
   <term><parameter>net_dev</parameter></term>
   <listitem>
    <para>
      the net device to set equalizer value
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term><parameter>revision</parameter></term>
   <listitem>
    <para>
      630 LAN revision number
    </para>
   </listitem>
  </varlistentry>
 </variablelist>
</refsect1>
<refsect1>
 <title>Description</title>
 <para>
   630E equalizer workaround rule(Cyrus Huang 08/15)
   PHY register 14h(Test)
 </para>
</refsect1>
<refsect1>
 <title>Bit 14</title>
 <para>
    0 -- Automatically dectect (default)
   1 -- Manually set Equalizer filter
 </para>
</refsect1>
<refsect1>
 <title>Bit 13</title>
 <para>
    0 -- (Default)
   1 -- Speed up convergence of equalizer setting
 </para>
</refsect1>
<refsect1>
 <title>Bit 9 </title>
 <para>
    0 -- (Default)
   1 -- Disable Baseline Wander
   Bit 3~7   -- Equalizer filter setting
 </para>
</refsect1>
<refsect1>
 <title>Link ON</title>
 <para>
    Set Bit 9, 13 to 1, Bit 14 to 0
   Then calculate equalizer value
   Then set equalizer value, and set Bit 14 to 1, Bit 9 to 0
 </para>
</refsect1>
<refsect1>
 <title>Link Off</title>
 <para>
   Set Bit 13 to 1, Bit 14 to 0
 </para>
</refsect1>
<refsect1>
 <title>Calculate Equalizer value</title>
 <para>
   When Link is ON and Bit 14 is 0, SIS900PHY will auto-dectect proper equalizer value.
   When the equalizer is stable, this value is not a fixed value. It will be within
   a small range(eg. 7~9). Then we get a minimum and a maximum value(eg. min=7, max=9)
   0 &lt;= max &lt;= 4  --&gt; set equalizer to max
   5 &lt;= max &lt;= 14 --&gt; set equalizer to max+1 or set equalizer to max+2 if max == min
   max &gt;= 15      --&gt; set equalizer to max+5 or set equalizer to max+6 if max == min
 </para>
</refsect1>
<refsect1><title>About this document</title>
<para>
This documentation was generated with kernel version 2.6.11.
</para>
</refsect1>
</refentry>
